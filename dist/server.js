(()=>{"use strict";var e={n:r=>{var s=r&&r.__esModule?()=>r.default:()=>r;return e.d(s,{a:s}),s},d:(r,s)=>{for(var t in s)e.o(s,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:s[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),p:"/"};const r=require("react-dom/server");var s=e.n(r);const t=require("express");var n=e.n(t);const o=require("react-router-dom/server"),a=(e.p,require("react-router-dom")),i=require("react"),l=require("react/jsx-runtime"),u=()=>(0,l.jsx)("div",{className:"Red",children:"Red"}),c=()=>(0,l.jsx)("div",{className:"Blue",children:"Blue"}),d=()=>(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.Link,{to:"/red",children:"Reddasdasds"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.Link,{to:"/blue",children:"Blue"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.Link,{to:"/users",children:"Users"})})]}),h=()=>(0,l.jsx)(u,{}),p=()=>(0,l.jsx)(c,{}),x=require("react-redux"),j=require("axios");var m=e.n(j);const y=require("redux-saga/effects"),v="users/GET_USERS_PENDING",g="users/GET_USERS_SUCCESS",f="users/GET_USERS_FAILURE",S="users/GET_USER",E="users/GET_USER_SUCCESS",R="users/GET_USER_FAILURE",_=e=>({type:S,payload:e}),q=e=>({type:E,payload:e}),b=e=>({type:R,payload:e,error:!0}),k=()=>async e=>{try{e({type:v});const r=await m().get("https:jsonplaceholder.typicode.com/users");e({type:g,payload:r})}catch(r){throw e({type:f,error:!0,payload:r}),r}},P=e=>m().get("https://jsonplaceholder.typicode.com/users/".concat(e));function*T(e){try{const r=yield(0,y.call)(P,e.payload);yield(0,y.put)(q(r.data))}catch(e){yield(0,y.put)(b(e))}}function*U(){yield(0,y.takeEvery)(S,T)}const w={users:null,user:null,loading:{users:!1,user:!1},error:{users:null,user:null}},C=(0,i.createContext)(null),G=C,L=e=>{let{resolve:r}=e;const s=(0,i.useContext)(C);return s?(s.done||s.promises.push(Promise.resolve(r())),null):null},N=e=>{let{users:r}=e;return r?(0,l.jsx)("div",{children:(0,l.jsx)("ul",{children:r.map((e=>(0,l.jsx)("li",{children:(0,l.jsx)(a.Link,{to:"/users/".concat(e.id),children:e.username})},e.id)))})}):null},O=()=>{const e=(0,x.useSelector)((e=>e.users.users)),r=(0,x.useDispatch)();return(0,i.useEffect)((()=>{e||r(k())}),[r,e]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{users:e}),(0,l.jsx)(L,{resolve:()=>r(k)})]})},A=e=>{let{user:r}=e;const{email:s,name:t,username:n}=r;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{children:[n," (",t,")"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"e-mail :"})," ",s]})]})},D=e=>{let{id:r}=e;const s=(0,x.useSelector)((e=>e.users.user)),t=(0,x.useDispatch)();return(0,i.useEffect)((()=>{s&&s.id===parseInt(r,10)||t(_(r))}),[t,r,s]),s?(0,l.jsx)(A,{user:s}):(0,l.jsx)(L,{resolve:()=>t(_(r))})},F=()=>{const{id:e}=(0,a.useParams)();return(0,l.jsx)(D,{id:e})},I=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(O,{}),(0,l.jsx)(a.Routes,{children:(0,l.jsx)(a.Route,{path:":id",element:(0,l.jsx)(F,{})})})]}),B=function(){return(0,l.jsxs)("div",{className:"App",children:[(0,l.jsx)(d,{}),(0,l.jsx)("hr",{}),(0,l.jsxs)(a.Routes,{children:[(0,l.jsx)(a.Route,{path:"/red",element:(0,l.jsx)(h,{})}),(0,l.jsx)(a.Route,{path:"/blue",element:(0,l.jsx)(p,{})}),(0,l.jsx)(a.Route,{path:"/users/*",element:(0,l.jsx)(I,{})})]})]})},J=require("path");var M=e.n(J);const Y=require("fs");var z=e.n(Y);const H=require("redux"),K=require("redux-thunk");function*Q(){yield(0,y.all)([U()])}const V=(0,H.combineReducers)({users:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case v:return{...e,loading:{...e.loading,users:!0}};case g:return{...e,loading:{...e.loading,users:!1},users:r.payload.data};case f:return{...e,loading:{...e.loading,users:!1},error:{...e.error,users:r.payload}};case S:return{...e,loading:{...e.loading,user:!0}};case E:return{...e,loading:{...e.loading,user:!1},user:r.payload};case R:return{...e,loading:{...e.loading,user:!1},error:{...e.error,user:r.payload}};default:return e}}}),W=require("@redux-saga/core");var X=e.n(W);require("redux-saga");const Z=JSON.parse(z().readFileSync(M().resolve("./build/asset-manifest.json"),"utf8")),$=n()(),ee=n().static(M().resolve("./build"),{index:!1});$.use(ee),$.use((async(e,r,t)=>{const n=X()(),a=(0,H.createStore)(V,(0,H.applyMiddleware)(K.thunk,n)),i=(n.run(Q).toPromise(),{done:!1,promises:[]}),u=(0,l.jsx)(G.Provider,{value:i,children:(0,l.jsx)(x.Provider,{store:a,children:(0,l.jsx)(o.StaticRouter,{location:e.url,context:{},children:(0,l.jsx)(B,{})})})});s().renderToStaticMarkup(u);try{await Promise.all(i.promises)}catch(e){return r.status(500)}i.done=!0;const c=s().renderToString(u),d=JSON.stringify(a.getState()).replace(/</g,"\\u003c"),h="<script>__PRELOADED_STATE__ = ".concat(d,"<\/script>");r.send(function(e,r){return'<!DOCTYPE html>\n    <html leng="en">\n        <head>\n            <meta charset="utf-8"/>\n            <link rel="shortcut icon" href="/favicon.ico"/>\n            <meta\n                name="viewport"\n                content="width=device-width,initial-scale=1,shrink-to-fit=no"\n            />\n            <meta name="theme-color" content="#000000"/>\n            <title>React App</title>\n            <link href="'.concat(Z.files["main.css"],'" rel="stylesheet"/>\n        </head>\n        <body>\n            <noscript>You need to enable Javascript to run this app.</noscript>\n            <div id="root">').concat(e,"</div>\n            ").concat(r,'\n            <script src="').concat(Z.files["main.js"],'"><\/script>\n        </body>\n    </html>\n    ')}(c,h))})),$.listen(5e3,(()=>{console.log("Runnig on http://localhost:5000")}))})();